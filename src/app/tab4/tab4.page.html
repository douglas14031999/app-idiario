<ion-header>
  <ion-toolbar mode="md">
    <ion-title>Planos de ensino</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="doRefresh($event)">
        <ion-icon slot="icon-only" name="sync"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="page-content">
  <div
    *ngIf="!unities.length || (unities[0] && !unities[0].teachingPlans.length)"
    class="empty-results"
  >
    <p>Nenhum plano de ensino foi encontrado.</p>
  </div>
  <ion-accordion-group *ngFor="let unity of unities; let i = index">
    <ion-accordion>
      <ion-item slot="header">
        <ion-label>{{ unity.name }}</ion-label>
      </ion-item>
      <div class="ion-padding" slot="content">
        <ion-item
          *ngFor="let teachingPlan of unity.teachingPlans;"
          (click)="openDetail(teachingPlan.id)"
        >
          <ion-label class="view-eye">
            {{ teachingPlan.description }}
          </ion-label>
        </ion-item>
      </div>
    </ion-accordion>
  </ion-accordion-group>
</ion-content>
