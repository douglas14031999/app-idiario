<ion-header>
  <ion-toolbar mode="md">
    <ion-title>Planos de aula</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="doRefresh($event)">
        <ion-icon slot="icon-only" name="sync"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="page-content">
  <div *ngIf="!unities.length" class="empty-results">
    <p>Nenhum plano de aula foi encontrado.</p>
  </div>
  <div *ngIf="unities.length">
    <ion-list class="accordion-list" *ngFor="let unity of unities; let i=index">
      <ion-list-header
        (click)="toggleGroup(i)"
        [ngClass]="{active: isGroupShown(i)}"
      >
        <p class="unity_name">{{unity.name}}</p>
      </ion-list-header>

      <div *ngFor="let lessonPlan of unity.lessonPlans;">
        <ion-item
          *ngIf="isGroupShown(i)"
          class="accordion-list-item accordion-list-item-lesson"
        >
          <p text-capitalize class="item-lesson-text">
            {{lessonPlan.description}}
          </p>
          <a (click)="openDetail(lessonPlan.id)" class="text-view">Ver plano</a>
        </ion-item>
      </div>
    </ion-list>
  </div>
</ion-content>
