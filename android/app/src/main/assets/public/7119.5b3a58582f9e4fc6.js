"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7119],{7119:(B,_,d)=>{d.r(_),d.d(_,{NewContentRecordFormPageModule:()=>S});var u=d(177),s=d(9417),m=d(4742),g=d(7500),e=d(4438),k=d(1659),C=d(7528),x=d(8035),M=d(8150);function P(i,r){1&i&&(e.j41(0,"div",8)(1,"p"),e.EFF(2,"Nenhuma escola encontrada."),e.k0s()())}function O(i,r){if(1&i&&(e.j41(0,"ion-item")(1,"ion-radio",18),e.EFF(2),e.k0s()()),2&i){const o=r.$implicit;e.R7$(),e.Y8G("value",o.id),e.BMQ("aria-label",o.description),e.R7$(),e.SpI(" ",o.description," ")}}function v(i,r){if(1&i&&(e.j41(0,"ion-item")(1,"ion-radio",18),e.EFF(2),e.k0s()()),2&i){const o=r.$implicit;e.R7$(),e.Y8G("value",o.id),e.BMQ("aria-label",o.description),e.R7$(),e.SpI(" ",o.description," ")}}function R(i,r){if(1&i){const o=e.RV6();e.j41(0,"div",11)(1,"h3",12),e.EFF(2,"Turma"),e.k0s(),e.j41(3,"ion-list",13)(4,"ion-radio-group",19),e.mxI("ngModelChange",function(n){e.eBV(o);const c=e.XpG(2);return e.DH7(c.classroomId,n)||(c.classroomId=n),e.Njj(n)}),e.bIt("ionChange",function(){e.eBV(o);const n=e.XpG(2);return e.Njj(n.onChangeClassroom())}),e.DNE(5,v,3,3,"ion-item",15),e.k0s()()()}if(2&i){const o=e.XpG(2);e.R7$(4),e.R50("ngModel",o.classroomId),e.R7$(),e.Y8G("ngForOf",o.classrooms)}}function F(i,r){if(1&i&&(e.j41(0,"ion-item")(1,"ion-radio",18),e.EFF(2),e.k0s()()),2&i){const o=r.$implicit;e.R7$(),e.Y8G("value",o.id),e.BMQ("aria-label",o.description),e.R7$(),e.SpI(" ",o.description," ")}}function I(i,r){if(1&i){const o=e.RV6();e.j41(0,"div",11)(1,"h3",12),e.EFF(2,"Disciplina"),e.k0s(),e.j41(3,"ion-list",13)(4,"ion-radio-group",20),e.mxI("ngModelChange",function(n){e.eBV(o);const c=e.XpG(2);return e.DH7(c.disciplineId,n)||(c.disciplineId=n),e.Njj(n)}),e.DNE(5,F,3,3,"ion-item",15),e.k0s()()()}if(2&i){const o=e.XpG(2);e.R7$(4),e.R50("ngModel",o.disciplineId),e.R7$(),e.Y8G("ngForOf",o.disciplines)}}function N(i,r){if(1&i){const o=e.RV6();e.j41(0,"div",11)(1,"h3",12),e.EFF(2,"Data"),e.k0s(),e.j41(3,"ion-datetime",21),e.mxI("ngModelChange",function(n){e.eBV(o);const c=e.XpG(2);return e.DH7(c.date,n)||(c.date=n),e.Njj(n)}),e.k0s()()}if(2&i){const o=e.XpG(2);e.R7$(3),e.R50("ngModel",o.date),e.Y8G("max",o.currentDate.toISOString())}}function w(i,r){if(1&i){const o=e.RV6();e.j41(0,"form",9,0),e.bIt("ngSubmit",function(){e.eBV(o);const n=e.sdS(1),c=e.XpG();return e.Njj(c.submitNewContentRecord(n))}),e.j41(2,"div",10)(3,"div",11)(4,"h3",12),e.EFF(5,"Qual a escola?"),e.k0s(),e.j41(6,"ion-list",13)(7,"ion-radio-group",14),e.mxI("ngModelChange",function(n){e.eBV(o);const c=e.XpG();return e.DH7(c.unityId,n)||(c.unityId=n),e.Njj(n)}),e.bIt("ionChange",function(){e.eBV(o);const n=e.XpG();return e.Njj(n.onChangeUnity())}),e.DNE(8,O,3,3,"ion-item",15),e.k0s()()(),e.DNE(9,R,6,2,"div",16)(10,I,6,2,"div",16)(11,N,4,2,"div",16),e.j41(12,"ion-button",17),e.EFF(13," Avan\xe7ar "),e.k0s()()()}if(2&i){const o=e.sdS(1),t=e.XpG();e.R7$(7),e.R50("ngModel",t.unityId),e.R7$(),e.Y8G("ngForOf",t.unities),e.R7$(),e.Y8G("ngIf",t.classrooms&&t.classrooms.length>0),e.R7$(),e.Y8G("ngIf",t.disciplines&&t.disciplines.length>0),e.R7$(),e.Y8G("ngIf",t.classrooms&&t.classrooms.length>0),e.R7$(),e.Y8G("disabled",!o.valid||!t.classrooms.length)}}const y=[{path:"",component:(()=>{var i;class r{constructor(t,n,c,h,f,p){this.route=t,this.classroomsService=n,this.disciplinesService=c,this.messages=h,this.router=f,this.utilsService=p,this.unities=[],this.unityId=null,this.classrooms=[],this.classroomId=null,this.disciplineId=null,this.currentDate=new Date}ngOnInit(){var t;this.route.queryParams.subscribe(c=>{this.unityId=c.unityId,this.date=c.date,this.date||(this.date=this.utilsService.toStringWithoutTime(this.utilsService.getCurrentDate()))});const n=null===(t=this.router.getCurrentNavigation())||void 0===t?void 0:t.extras.state;n&&n.unities&&(this.unities=n.unities)}onChangeUnity(){this.unityId?this.classroomsService.getOfflineClassrooms(this.unityId).subscribe({next:t=>{this.resetSelectedValues(),this.classrooms=t.data,this.disciplines=[]},error:t=>{this.classrooms=[],this.disciplines=[],this.messages.showError(t,"Erro"),console.log(t)}}):this.resetSelectedValues()}onChangeClassroom(){this.classroomId&&(this.disciplineId=null,this.disciplinesService.getOfflineDisciplines(this.classroomId).subscribe({next:t=>{this.disciplines=t.data},error:t=>{console.log(t)}}))}submitNewContentRecord(t){var n,c;const h=t.value.unity,f=(null===(n=this.unities.find(l=>l.id===h))||void 0===n?void 0:n.description)||"",p=t.value.classroom,a=this.classrooms.find(l=>l.id===p),G=null==a?void 0:a.grade_id,T=(null==a?void 0:a.description)||"",$=this.utilsService.dateToTimezone(t.value.date),D=this.utilsService.toStringWithoutTime($),b=t.value.discipline,E=(null===(c=this.disciplines.find(l=>l.id===b))||void 0===c?void 0:c.description)||"";this.router.navigate(["/content-record-form"],{queryParams:{date:D,unityId:h,disciplineId:b,classroomId:p,gradeId:G,description:E,classroomName:T,unityName:f}})}resetSelectedValues(){this.classroomId=null,this.disciplineId=null}goBack(){this.router.navigate(["/tabs/tab2"])}}return(i=r).\u0275fac=function(t){return new(t||i)(e.rXU(g.nX),e.rXU(k.y),e.rXU(C.F),e.rXU(x.G),e.rXU(g.Ix),e.rXU(M.T))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-new-content-record-form"]],decls:10,vars:2,consts:[["f","ngForm"],["mode","md"],["slot","end"],[3,"click"],["slot","icon-only","name","close"],[1,"page-content"],["class","empty-results",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"empty-results"],[3,"ngSubmit"],[1,"form-frequency"],[1,"form-item"],[1,"form-item-title"],[1,"panel"],["name","unity","required","",3,"ngModelChange","ionChange","ngModel"],[4,"ngFor","ngForOf"],["class","form-item",4,"ngIf"],["expand","block","type","submit",3,"disabled"],[3,"value"],["name","classroom","required","",3,"ngModelChange","ionChange","ngModel"],["name","discipline","required","",3,"ngModelChange","ngModel"],["name","date","locale","pt-BR","presentation","date",1,"panel",3,"ngModelChange","ngModel","max"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-title"),e.EFF(3,"Novo conte\xfado"),e.k0s(),e.j41(4,"ion-buttons",2)(5,"ion-button",3),e.bIt("click",function(){return n.goBack()}),e.nrm(6,"ion-icon",4),e.k0s()()()(),e.j41(7,"ion-content",5),e.DNE(8,P,3,0,"div",6)(9,w,14,6,"form",7),e.k0s()),2&t&&(e.R7$(8),e.Y8G("ngIf",0===n.unities.length),e.R7$(),e.Y8G("ngIf",n.unities.length))},dependencies:[u.Sq,u.bT,s.qT,s.BC,s.cb,s.YS,s.vS,s.cV,m.Jm,m.QW,m.W9,m.A9,m.eU,m.iq,m.uz,m.nf,m.KO,m.f0,m.BC,m.ai,m.Je],styles:[".img-close-frequency[_ngcontent-%COMP%]{width:22px;margin-right:10px}.form-frequency[_ngcontent-%COMP%]{margin:20px 10px 0;padding-bottom:calc(15px + env(safe-area-inset-bottom))}.form-item[_ngcontent-%COMP%]{margin-bottom:24px}.form-item-title[_ngcontent-%COMP%]{color:#3f3e4d;font-size:20px;margin-bottom:12px}.form-item-radio[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff;border:1px solid #dddce6!important}.form-item-radio-item[_ngcontent-%COMP%]{height:70px;font-size:16px;color:#3f3e4d;background-color:transparent;border-bottom:1px solid #dddce6!important}.form-item-radio-item[_ngcontent-%COMP%]   .radio-icon[_ngcontent-%COMP%]{visibility:hidden;position:absolute}.form-item-radio-item.item.item-block.item-wp.item-radio.item-radio-checked[_ngcontent-%COMP%], .form-item-radio-item.item.item-block.item-ios.item-radio.item-radio-checked[_ngcontent-%COMP%], .form-item-radio-item.item.item-block.item-md.item-radio.item-radio-checked[_ngcontent-%COMP%]{background-color:#3fd4b4}.form-item-radio-item.item.item-block.item-wp.item-radio[_ngcontent-%COMP%]:last-child, .form-item-radio-item.item.item-block.item-ios.item-radio[_ngcontent-%COMP%]:last-child, .form-item-radio-item.item.item-block.item-md.item-radio[_ngcontent-%COMP%]:last-child{border-bottom:0!important}.form-item-radio-item.item.item-block.item-wp.item-radio.item-radio-checked[_ngcontent-%COMP%]:first-child, .form-item-radio-item.item.item-block.item-ios.item-radio.item-radio-checked[_ngcontent-%COMP%]:first-child, .form-item-radio-item.item.item-block.item-md.item-radio.item-radio-checked[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px;border-top-right-radius:5px}.form-item-radio-item.item.item-block.item-wp.item-radio.item-radio-checked[_ngcontent-%COMP%]:last-child, .form-item-radio-item.item.item-block.item-ios.item-radio.item-radio-checked[_ngcontent-%COMP%]:last-child, .form-item-radio-item.item.item-block.item-md.item-radio.item-radio-checked[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.form-item-radio-item.item.item-block.item-md.item-radio.item-radio-checked[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:16px;color:#fff!important}.item-empty[_ngcontent-%COMP%]{width:auto;height:70px;background-color:#e5deec;border-radius:5px}.item-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#87878c;text-align:center;padding-top:26px}.button-frequency[_ngcontent-%COMP%]{height:70px;margin-bottom:30px;border-radius:5px;text-transform:none;font-size:18px}.date-frequency[_ngcontent-%COMP%]{background-color:#fff;height:70px;font-size:16px;color:#3f3d4d;border:1px solid #dddce6!important;border-radius:5px}.datetime.datetime-wp[_ngcontent-%COMP%], .datetime.datetime-ios[_ngcontent-%COMP%], .datetime.datetime-md[_ngcontent-%COMP%]{height:70px;width:100%;float:left;position:relative;z-index:9}.datetime-text[_ngcontent-%COMP%]{margin:auto}.text-mudar[_ngcontent-%COMP%]{float:right;margin:0;padding:23px 20px 0 0;color:#6e00b5;position:absolute;z-index:8;right:10px}.itens-checkbox[_ngcontent-%COMP%]{height:70px;display:flex;border-radius:5px;border:1px solid #dddce6;background-color:#fff}.form-item-check-item[_ngcontent-%COMP%]{background-color:transparent;border-right:1px solid #dddce6!important}.checkbox-icon[_ngcontent-%COMP%]{visibility:hidden;position:absolute}.form-item-check-item[_ngcontent-%COMP%]   .checkbox-wp[_ngcontent-%COMP%]   .checkbox-icon[_ngcontent-%COMP%], .form-item-check-item[_ngcontent-%COMP%]   .checkbox-ios[_ngcontent-%COMP%]   .checkbox-icon[_ngcontent-%COMP%], .form-item-check-item[_ngcontent-%COMP%]   .checkbox-md[_ngcontent-%COMP%]   .checkbox-icon[_ngcontent-%COMP%]{position:absolute!important}.form-item-check-item.item.item-block.item-wp.item-checkbox[_ngcontent-%COMP%], .form-item-check-item.item.item-block.item-ios.item-checkbox[_ngcontent-%COMP%], .form-item-check-item.item.item-block.item-md.item-checkbox[_ngcontent-%COMP%]{padding-left:0!important}ion-checkbox.checkbox.checkbox-wp[_ngcontent-%COMP%], ion-checkbox.checkbox.checkbox-ios[_ngcontent-%COMP%], ion-checkbox.checkbox.checkbox-md[_ngcontent-%COMP%]{margin:0!important}.form-item-check-item.item.item-block.item-wp.item-checkbox[_ngcontent-%COMP%]:last-child, .form-item-check-item.item.item-block.item-ios.item-checkbox[_ngcontent-%COMP%]:last-child, .form-item-check-item.item.item-block.item-md.item-checkbox[_ngcontent-%COMP%]:last-child{border-right:0!important}.form-item-check-item.item.item-block.item-wp.item-checkbox.item-checkbox-checked[_ngcontent-%COMP%], .form-item-check-item.item.item-block.item-ios.item-checkbox.item-checkbox-checked[_ngcontent-%COMP%], .form-item-check-item.item.item-block.item-md.item-checkbox.item-checkbox-checked[_ngcontent-%COMP%]{background-color:#3fd4b4}.form-item-check-item.item.item-block.item-wp.item-checkbox.item-checkbox-checked[_ngcontent-%COMP%]:first-child, .form-item-check-item.item.item-block.item-ios.item-checkbox.item-checkbox-checked[_ngcontent-%COMP%]:first-child, .form-item-check-item.item.item-block.item-md.item-checkbox.item-checkbox-checked[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:5px;border-top-left-radius:5px}.form-item-check-item.item.item-block.item-wp.item-checkbox.item-checkbox-checked[_ngcontent-%COMP%]:last-child, .form-item-check-item.item.item-block.item-ios.item-checkbox.item-checkbox-checked[_ngcontent-%COMP%]:last-child, .form-item-check-item.item.item-block.item-md.item-checkbox.item-checkbox-checked[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:5px;border-top-right-radius:5px}.form-item-check-item.item.item-block.item-wp.item-checkbox.item-checkbox-checked[_ngcontent-%COMP%]   .form-item-check-item-label[_ngcontent-%COMP%], .form-item-check-item.item.item-block.item-ios.item-checkbox.item-checkbox-checked[_ngcontent-%COMP%]   .form-item-check-item-label[_ngcontent-%COMP%], .form-item-check-item.item.item-block.item-md.item-checkbox.item-checkbox-checked[_ngcontent-%COMP%]   .form-item-check-item-label[_ngcontent-%COMP%]{color:#fff}.form-item-check-item-label[_ngcontent-%COMP%]{font-size:16px;color:#3f3d4d;width:100%;margin:0;text-align:center}.datetime-wp[_ngcontent-%COMP%]   .datetime-text[_ngcontent-%COMP%]{border:0}.item-wp.item-block[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%], .item-ios.item-block[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{padding-right:0}.form-item-radio-item.item.item-block.item-wp.item-radio[_ngcontent-%COMP%]{padding-left:0}"]}),r})()}];let j=(()=>{var i;class r{}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[g.iI.forChild(y),g.iI]}),r})(),S=(()=>{var i;class r{}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[u.MD,s.YN,m.bv,j]}),r})()}}]);